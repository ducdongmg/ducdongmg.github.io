---
layout: single
title:  "AutoGPT Forge: Cháº¿ táº¡o logic tÃ¡c nhÃ¢n thÃ´ng minh"
desc: ""
keywords: "autoGPT"
categories: [AI]
tag: [AI]
---

AutoGPT Forge: Cháº¿ táº¡o logic tÃ¡c nhÃ¢n thÃ´ng minh
=====================================================

![](https://miro.medium.com/v2/resize:fit:700/1*Ls2N3NmJrVSdod9MZXsPxw.png)

Xin chÃ o nhá»¯ng ngÆ°á»i Ä‘am mÃª AI! HÃ´m nay, chÃºng ta sáº¯p báº¯t Ä‘áº§u má»™t hÃ nh trÃ¬nh khai sÃ¡ng Ä‘á»ƒ táº¡o ra logic tÃ¡c nhÃ¢n thÃ´ng minh. ÄÃ¢y lÃ  pháº§n 4 trong loáº¡t bÃ i hÆ°á»›ng dáº«n sá»­ dá»¥ng AutoGPT Forge, báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y cÃ¡c pháº§n trÆ°á»›c táº¡i Ä‘Ã¢y:

Pháº§n 1: [AutoGPT Forge: HÆ°á»›ng dáº«n toÃ n diá»‡n cho bÆ°á»›c Ä‘áº§u tiÃªn cá»§a báº¡n](/ai/autoGPT-part1-a-comprehensive-guide)

Pháº§n 2: [AutoGPT Forge: Báº£n thiáº¿t káº¿ cá»§a má»™t Ä‘áº·c vá»¥ AI](/ai/autoGPT-part2-the-blueprint-of-an-ai-agent)

Pháº§n 3: [AutoGPT Forge: TÆ°Æ¡ng tÃ¡c vá»›i Äáº¡i lÃ½ cá»§a báº¡n](/ai/autoGPT-part3-interacting-with-your-agent)

ÄÆ°á»£c rá»“i, cÃ¡c báº¡n, hÃ£y Ä‘i tháº³ng vÃ o pháº§n thÃº vá»‹: viáº¿t mÃ£! ChÃºng tÃ´i sáº¯p thiáº¿t láº­p má»™t há»‡ thá»‘ng tiá»‡n lá»£i giá»›i thiá»‡u cÃ¡ch sá»­ dá»¥ng LLM lÃ m nguá»“n lá»±c trÃ­ tuá»‡ Ä‘áº±ng sau Ä‘áº¡i lÃ½ cá»§a chÃºng tÃ´i. Nhiá»‡m vá»¥? Äá»ƒ giáº£i quyáº¿t nhiá»‡m vá»¥ Ä‘Æ¡n giáº£n lÃ  ghi thá»§ Ä‘Ã´ cá»§a Hoa Ká»³ vÃ o má»™t tá»‡p txt. Pháº§n thÃº vá»‹ nháº¥t? ChÃºng tÃ´i sáº½ khÃ´ng Ä‘Æ°a ra tá»«ng bÆ°á»›c cho Ä‘áº¡i lÃ½ cá»§a mÃ¬nh. Thay vÃ o Ä‘Ã³, chÃºng ta sáº½ chá»‰ giao nhiá»‡m vá»¥: â€œViáº¿t tá»« 'Washington' vÃ o má»™t tá»‡p .txt,â€ vÃ  kinh ngáº¡c nhÃ¬n nÃ³ tá»± tÃ¬m ra 'cÃ¡ch thá»±c hiá»‡n', sau Ä‘Ã³ nhanh chÃ³ng thá»±c hiá»‡n cÃ¡c lá»‡nh cáº§n thiáº¿t. Tháº­t tuyá»‡t vá»i pháº£i khÃ´ng?

**Thiáº¿t láº­p dá»± Ã¡n Äáº¡i lÃ½ thÃ´ng minh cá»§a báº¡n**
=============================================

TrÆ°á»›c khi báº¯t tay vÃ o thá»±c hiá»‡n, hÃ£y Ä‘áº£m báº£o ráº±ng báº¡n Ä‘Ã£ chuáº©n bá»‹ sáºµn dá»± Ã¡n cá»§a mÃ¬nh vÃ  táº¡o nhÃ¢n viÃªn há»— trá»£ nhÆ° chi tiáº¿t trong hÆ°á»›ng dáº«n báº¯t Ä‘áº§u cá»§a chÃºng tÃ´i. Bá» lá»¡ bÆ°á»›c Ä‘Ã³? Äá»«ng lo láº¯ng! Chá»‰ cáº§n chuyá»ƒn sang thiáº¿t láº­p dá»± Ã¡n báº±ng cÃ¡ch [nháº¥p vÃ o Ä‘Ã¢y](/ai/autoGPT-part1-a-comprehensive-guide) . Khi báº¡n Ä‘Ã£ sáºµn sÃ ng xong, hÃ£y quay láº¡i vÃ  chÃºng ta sáº½ báº¯t Ä‘áº§u cháº¡y.

Trong áº£nh chá»¥p mÃ n hÃ¬nh sau, báº¡n sáº½ nháº­n tháº¥y tÃ´i Ä‘Ã£ táº¡o má»™t tÃ¡c nhÃ¢n cÃ³ tÃªn â€œ **SmartAgent** â€ vÃ  sau Ä‘Ã³ truy cáº­p vÃ o `agent.py`tá»‡p náº±m trong thÆ° má»¥c con 'forge'. ÄÃ¢y sáº½ lÃ  khÃ´ng gian lÃ m viá»‡c cá»§a chÃºng tÃ´i Ä‘á»ƒ tÃ­ch há»£p logic Ä‘iá»u khiá»ƒn LLM. Trong khi [hÆ°á»›ng dáº«n trÆ°á»›c](/ai/autoGPT-part2-the-blueprint-of-an-ai-agent) cá»§a chÃºng tÃ´i Ä‘Ã£ Ä‘á» cáº­p Ä‘áº¿n cÃ¡ch bá»‘ trÃ­ dá»± Ã¡n vÃ  hoáº¡t Ä‘á»™ng cá»§a Ä‘áº¡i lÃ½, Ä‘á»«ng lo láº¯ng! TÃ´i sáº½ nÃªu báº­t nhá»¯ng Ä‘iá»ƒm cáº§n thiáº¿t khi chÃºng ta Ä‘i sÃ¢u vÃ o viá»‡c triá»ƒn khai logic.

![](https://miro.medium.com/v2/resize:fit:1461/1*WkE_jU8MXNzULwThFJJixg.png)

VÃ²ng Ä‘á»i nhiá»‡m vá»¥
=================

VÃ²ng Ä‘á»i cá»§a má»™t tÃ¡c vá»¥, tá»« khi táº¡o Ä‘áº¿n khi thá»±c thi, Ä‘Æ°á»£c nÃªu trong giao thá»©c tÃ¡c nhÃ¢n. NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n: má»™t nhiá»‡m vá»¥ Ä‘Æ°á»£c báº¯t Ä‘áº§u, cÃ¡c bÆ°á»›c cá»§a nÃ³ Ä‘Æ°á»£c thá»±c hiá»‡n má»™t cÃ¡ch cÃ³ há»‡ thá»‘ng vÃ  káº¿t thÃºc sau khi hoÃ n thÃ nh.

Muá»‘n Ä‘áº¡i lÃ½ cá»§a báº¡n thá»±c hiá»‡n má»™t hÃ nh Ä‘á»™ng? Báº¯t Ä‘áº§u báº±ng cÃ¡ch gá»­i má»™t `create_task` yÃªu cáº§u. BÆ°á»›c quan trá»ng nÃ y liÃªn quan Ä‘áº¿n viá»‡c chá»‰ Ä‘á»‹nh chi tiáº¿t nhiá»‡m vá»¥, giá»‘ng nhÆ° cÃ¡ch báº¡n gá»­i lá»i nháº¯c tá»›i ChatGPT báº±ng cÃ¡ch sá»­ dá»¥ng `input` trÆ°á»ng nÃ y. Náº¿u báº¡n tá»± mÃ¬nh thá»±c hiá»‡n viá»‡c nÃ y thÃ¬ giao diá»‡n ngÆ°á»i dÃ¹ng lÃ  ngÆ°á»i báº¡n tá»‘t nháº¥t cá»§a báº¡n; nÃ³ thay máº·t báº¡n xá»­ lÃ½ dá»… dÃ ng táº¥t cáº£ lá»‡nh gá»i API.

Khi Ä‘áº¡i lÃ½ cá»§a báº¡n nháº­n Ä‘Æ°á»£c thÃ´ng tin nÃ y, nÃ³ sáº½ kÃ­ch hoáº¡t `create_task` chá»©c nÄƒng. PhÆ°Æ¡ng phÃ¡p nÃ y `super().create_task(task_request)` thay máº·t báº¡n quáº£n lÃ½ dá»… dÃ ng táº¥t cáº£ viá»‡c lÆ°u giá»¯ há»“ sÆ¡ giao thá»©c cáº§n thiáº¿t. Sau Ä‘Ã³, nÃ³ chá»‰ ghi láº¡i quÃ¡ trÃ¬nh táº¡o tÃ¡c vá»¥. Äá»‘i vá»›i pháº¡m vi cá»§a hÆ°á»›ng dáº«n nÃ y, khÃ´ng cáº§n pháº£i Ä‘iá»u chá»‰nh chá»©c nÄƒng nÃ y.

```python
async def create_task(self, task_request: TaskRequestBody) -> Task:
    """
    Giao thá»©c tÃ¡c nhÃ¢n, lÃ  cá»‘t lÃµi cá»§a Forge, hoáº¡t Ä‘á»™ng báº±ng cÃ¡ch táº¡o má»™t tÃ¡c vá»¥ vÃ  sau Ä‘Ã³
    thá»±c hiá»‡n cÃ¡c bÆ°á»›c cho tÃ¡c vá»¥ Ä‘Ã³. PhÆ°Æ¡ng thá»©c nÃ y Ä‘Æ°á»£c gá»i khi tÃ¡c nhÃ¢n Ä‘Æ°á»£c Ä‘Æ°á»£c yÃªu cáº§u táº¡o
    má»™t tÃ¡c vá»¥.

    ChÃºng tÃ´i Ä‘ang káº¿t ná»‘i vÃ o chá»©c nÄƒng Ä‘á»ƒ thÃªm má»™t thÃ´ng Ä‘iá»‡p tÆ°á»ng trÃ¬nh tÃ¹y chá»‰nh. Máº·c dÃ¹ báº¡n cÃ³ thá»ƒ lÃ m báº¥t cá»© Ä‘iá»u gÃ¬ báº¡n muá»‘n á»Ÿ Ä‘Ã¢y.
    """
    task = await super().create_task(task_request)
    LOG.info(
        f"ğŸ“¦ Task created: {task.task_id} input: {task.input[:40]}{'...' if len(task.input) > 40 else ''}"
    )
    return task
```

Khi má»™t tÃ¡c vá»¥ Ä‘Æ°á»£c báº¯t Ä‘áº§u, `execute_step` hÃ m sáº½ Ä‘Æ°á»£c gá»i liÃªn tá»¥c cho Ä‘áº¿n khi bÆ°á»›c cuá»‘i cÃ¹ng Ä‘Æ°á»£c thá»±c thi. DÆ°á»›i Ä‘Ã¢y lÃ  giao diá»‡n ban Ä‘áº§u cá»§a `execute_step`, vÃ  lÆ°u Ã½ ráº±ng tÃ´i Ä‘Ã£ bá» qua pháº§n giáº£i thÃ­ch chuá»—i tÃ i liá»‡u dÃ i dÃ²ng Ä‘á»ƒ cho ngáº¯n gá»n, nhÆ°ng báº¡n sáº½ gáº·p nÃ³ trong dá»± Ã¡n cá»§a mÃ¬nh.

```python
async def execute_step(self, task_id: str, step_request: StepRequestBody) -> Step:
    # An example that
      step = await self.db.create_step(
          task_id=task_id, input=step_request, is_last=True
      )

      self.workspace.write(task_id=task_id, path="output.txt", data=b"Washington D.C")


      await self.db.create_artifact(
          task_id=task_id,
          step_id=step.step_id,
          file_name="output.txt",
          relative_path="",
          agent_created=True,
      )

      step.output = "Washington D.C"

      LOG.info(f"\tâœ… Final Step completed: {step.step_id}")

      return step
```

ÄÃ¢y lÃ  nhá»¯ng gÃ¬ báº¡n Ä‘ang chá»©ng kiáº¿n: má»™t cÃ¡ch thÃ´ng minh Ä‘á»ƒ vÆ°á»£t qua bÃ i kiá»ƒm tra 'ghi táº­p tin', Ä‘Æ°á»£c chia thÃ nh bá»‘n giai Ä‘oáº¡n rÃµ rÃ ng:

1.  **Táº¡o bÆ°á»›c cÆ¡ sá»Ÿ dá»¯ liá»‡u:** Giai Ä‘oáº¡n Ä‘áº§u tiÃªn lÃ  táº¡o má»™t bÆ°á»›c trong cÆ¡ sá»Ÿ dá»¯ liá»‡u, má»™t khÃ­a cáº¡nh thiáº¿t yáº¿u cá»§a giao thá»©c tÃ¡c nhÃ¢n. Báº¡n sáº½ nháº­n tháº¥y ráº±ng trong khi thiáº¿t láº­p bÆ°á»›c nÃ y, chÃºng tÃ´i Ä‘Ã£ gáº¯n cá» nÃ³ báº±ng `is_last=True`. Äiá»u nÃ y bÃ¡o hiá»‡u cho giao thá»©c tÃ¡c nhÃ¢n ráº±ng khÃ´ng cÃ²n bÆ°á»›c nÃ o Ä‘ang chá» xá»­ lÃ½. Vá»›i má»¥c Ä‘Ã­ch cá»§a hÆ°á»›ng dáº«n nÃ y, chÃºng ta hÃ£y giáº£ Ä‘á»‹nh ráº±ng nhÃ¢n viÃªn há»— trá»£ cá»§a chÃºng tÃ´i sáº½ chá»‰ giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ má»™t bÆ°á»›c. Tuy nhiÃªn, hÃ£y chá» Ä‘á»£i cÃ¡c hÆ°á»›ng dáº«n trong tÆ°Æ¡ng lai, nÆ¡i chÃºng tÃ´i sáº½ thÄƒng cáº¥p vÃ  Ä‘á»ƒ nhÃ¢n viÃªn xÃ¡c Ä‘á»‹nh Ä‘iá»ƒm hoÃ n thÃ nh.
2.  **Viáº¿t tá»‡p:** Tiáº¿p theo, chÃºng tÃ´i viáº¿t ra â€œWashington DCâ€ báº±ng cÃ¡ch sá»­ dá»¥ng `workspace.write` chá»©c nÄƒng nÃ y. ÄÆ¡n giáº£n pháº£i khÃ´ng?
3.  **Cáº­p nháº­t cÆ¡ sá»Ÿ dá»¯ liá»‡u táº¡o tÃ¡c:** Sau khi tá»‡p Ä‘Æ°á»£c ghi, Ä‘Ã£ Ä‘áº¿n lÃºc ghi tá»‡p nÃ y vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u táº¡o tÃ¡c cá»§a tÃ¡c nhÃ¢n, Ä‘áº£m báº£o má»i thá»© Ä‘á»u Ä‘Æ°á»£c ghi láº¡i.
4.  Ghi **nháº­t kÃ½ vÃ  cÃ i Ä‘áº·t Ä‘áº§u ra bÆ°á»›c:** Äá»ƒ káº¿t thÃºc má»i thá»©, chÃºng tÃ´i cÄƒn chá»‰nh Ä‘áº§u ra bÆ°á»›c vá»›i nhá»¯ng gÃ¬ chÃºng tÃ´i Ä‘Ã£ viáº¿t trong tá»‡p, ghi láº¡i nháº­t kÃ½ ráº±ng bÆ°á»›c cá»§a chÃºng tÃ´i Ä‘Ã£ Ä‘Æ°á»£c thá»±c hiá»‡n vÃ  sau Ä‘Ã³ Ä‘Æ°a Ä‘á»‘i tÆ°á»£ng bÆ°á»›c vÃ o hoáº¡t Ä‘á»™ng.

BÃ¢y giá» chÃºng ta Ä‘Ã£ lÃ m sÃ¡ng tá» quy trÃ¬nh Ä‘á»ƒ vÆ°á»£t qua bÃ i kiá»ƒm tra 'ghi tá»‡p', Ä‘Ã£ Ä‘áº¿n lÃºc cáº£i tiáº¿n má»i thá»© lÃªn má»™t táº§m cao má»›i. HÃ£y biáº¿n nÃ³ thÃ nh má»™t tÃ¡c nhÃ¢n thá»±c sá»± thÃ´ng minh, trao quyá»n cho nÃ³ Ä‘iá»u hÆ°á»›ng vÃ  chinh phá»¥c thá»­ thÃ¡ch má»™t cÃ¡ch tá»± chá»§. Sáºµn sÃ ng Ä‘á»ƒ Ä‘i sÃ¢u vÃ o?

XÃ¢y dá»±ng ná»n táº£ng cho Äáº¡i lÃ½ thÃ´ng minh cá»§a chÃºng tÃ´i
=====================================================

ÄÆ°á»£c rá»“i, má»‡nh lá»‡nh kinh doanh Ä‘áº§u tiÃªn: HÃ£y loáº¡i bá» `excuse_step` chá»©c nÄƒng tÃ¡o báº¡o Ä‘Ã³ khá»i logic lá»«a Ä‘áº£o cá»§a nÃ³ vÃ  Ä‘áº·t ná»n mÃ³ng cho tÃ¡c nhÃ¢n thÃ´ng minh cá»§a chÃºng ta. HÃ£y nhá»› ráº±ng, khi `execute_step` hÃ m cá»§a chÃºng ta nháº­n Ä‘Æ°á»£c lá»‡nh gá»i, ban Ä‘áº§u nÃ³ khÃ´ng biáº¿t gÃ¬ vá» nhiá»‡m vá»¥ cá»¥ thá»ƒ hiá»‡n táº¡i. VÃ¬ váº­y, nhiá»‡m vá»¥ ban Ä‘áº§u cá»§a chÃºng tÃ´i lÃ  kháº¯c phá»¥c Ä‘iá»u nÃ y.

Äá»ƒ thu háº¹p khoáº£ng cÃ¡ch kiáº¿n â€‹â€‹thá»©c nÃ y, chÃºng tÃ´i sáº½ triá»‡u táº­p cÃ¡c chi tiáº¿t nhiá»‡m vá»¥ báº±ng cÃ¡ch sá»­ dá»¥ng thÃ´ng tin `task_id` Ä‘Æ°á»£c cung cáº¥p. ÄÃ¢y lÃ  Ä‘oáº¡n mÃ£ ká»³ diá»‡u Ä‘á»ƒ biáº¿n Ä‘iá»u Ä‘Ã³ thÃ nh hiá»‡n thá»±c:

```python
task = await self.db.get_task(task_id)
```

NgoÃ i ra, chÃºng tÃ´i khÃ´ng quÃªn bÆ°á»›c quan trá»ng lÃ  táº¡o báº£n ghi cÆ¡ sá»Ÿ dá»¯ liá»‡u. NhÆ° chÃºng tÃ´i Ä‘Ã£ lÃ m trÆ°á»›c Ä‘Ã¢y, chÃºng tÃ´i sáº½ nháº¥n máº¡nh Ä‘Ã¢y lÃ  nhiá»‡m vá»¥ chá»‰ thá»±c hiá»‡n má»™t láº§n vá»›i `is_last=True`:

```python
step = await self.db.create_step(
    task_id=task_id, input=step_request, is_last=True
)
```

Vá»›i nhá»¯ng bá»• sung nÃ y, `execute_step`hÃ m cá»§a báº¡n giá» Ä‘Ã¢y sáº½ cÃ³ cáº¥u trÃºc tá»‘i giáº£n nhÆ°ng cáº§n thiáº¿t:

```python
async def execute_step(self, task_id: str, step_request: StepRequestBody) -> Step:
    # Firstly we get the task this step is for so we can access the task input
    task = await self.db.get_task(task_id)

    # Create a new step in the database
    step = await self.db.create_step(
        task_id=task_id, input=step_request, is_last=True
    )
    return step
```

Vá»›i nhá»¯ng viÃªn gáº¡ch ná»n táº£ng Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t ra nÃ y, chÃºng ta hÃ£y báº¯t tay vÃ o má»™t Ä‘iá»u thá»±c sá»± háº¥p dáº«n: giá»›i thiá»‡u, The **Nháº¯cEngine** .

Nghá»‡ thuáº­t thÃºc giá»¥c
====================

![](https://miro.medium.com/v2/resize:fit:700/1*wY6m7gi6BH8Z__-_zwoXFg.png)

Nháº¯c 101

Lá»i nháº¯c giá»‘ng nhÆ° má»™t ngÆ°á»i thá»£ thá»§ cÃ´ng tá»‰ má»‰ Ä‘á»‹nh hÃ¬nh cÃ¡c thÃ´ng Ä‘iá»‡p phÃ¹ há»£p vá»›i cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ máº¡nh máº½ nhÆ° ChatGPT. Vá»›i viá»‡c nhá»¯ng mÃ´ hÃ¬nh nÃ y ráº¥t phÃ¹ há»£p vá»›i cÃ¡c sáº¯c thÃ¡i Ä‘áº§u vÃ o, viá»‡c thiáº¿t káº¿ lá»i nháº¯c hoÃ n háº£o Ä‘á»ƒ khÆ¡i gá»£i hÃ nh vi gÃ¢y kinh ngáº¡c cÃ³ thá»ƒ lÃ  má»™t thÃ¡ch thá»©c nhÆ° mÃª cung. Nháº­p: **Nháº¯cEngine** .

Máº·c dÃ¹ â€œ _PromptEngine_ â€ nghe cÃ³ váº» cao cáº¥p nhÆ°ng báº£n cháº¥t cá»§a nÃ³ láº¡i Ä‘Æ¡n giáº£n má»™t cÃ¡ch trang nhÃ£. NÃ³ cho phÃ©p báº¡n lÆ°u trá»¯ lá»i nháº¯c cá»§a mÃ¬nh trong tá»‡p vÄƒn báº£n hoáº·c chÃ­nh xÃ¡c hÆ¡n lÃ  trong cÃ¡c máº«u Jinja2. Lá»£i tháº¿? Báº¡n cÃ³ thá»ƒ tinh chá»‰nh cÃ¡c lá»i nháº¯c Ä‘Æ°á»£c Ä‘Æ°a ra cho Ä‘áº¡i lÃ½ cá»§a mÃ¬nh mÃ  khÃ´ng cáº§n Ä‘i sÃ¢u vÃ o mÃ£. NgoÃ i ra, nÃ³ cÃ²n mang Ä‘áº¿n sá»± linh hoáº¡t Ä‘á»ƒ tÃ¹y chá»‰nh lá»i nháº¯c cho cÃ¡c LLM cá»¥ thá»ƒ. HÃ£y phÃ¡ vá»¡ Ä‘iá»u nÃ y.

Äáº§u tiÃªn, tÃ­ch há»£p Nháº¯cEngine tá»« SDK:

```python
from .sdk import PromptEngine
```

Tiáº¿p theo, trong `execute_step` hÃ m cá»§a báº¡n, hÃ£y khá»Ÿi táº¡o cÃ´ng cá»¥ phÃ¹ há»£p vá»›i `gpt-3.5-turbo` LLM:

```python
prompt_engine = PromptEngine("gpt-3.5-turbo")
```
Viá»‡c táº£i lá»i nháº¯c ráº¥t Ä‘Æ¡n giáº£n. VÃ­ dá»¥: viá»‡c táº£i `system-format` lá»i nháº¯c, chá»‰ ra Ä‘á»‹nh dáº¡ng pháº£n há»“i tá»« LLM, dá»… dÃ ng nhÆ° sau:

```python
system_prompt = prompt_engine.load_prompt("system-format")
```

Äá»‘i vá»›i cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng phá»©c táº¡p, nhÆ° `task-step` lá»i nháº¯c yÃªu cáº§u tham sá»‘, hÃ£y sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p sau:

```python
# Define the task parameters
task_kwargs = {
    "task": task.input,
    "abilities": self.abilities.list_abilities_for_prompt(),
}

# Load the task prompt with the defined task parameters
task_prompt = prompt_engine.load_prompt("task-step", **task_kwargs)
```

TÃ¬m hiá»ƒu sÃ¢u hÆ¡n, chÃºng ta hÃ£y xem qua `task-step`máº«u lá»i nháº¯c cÃ³ táº¡i `prompts/gpt-3.5-turbo/task-step.j2`:

```python
{% extends "techniques/expert.j2" %}
{% block expert %}Planner{% endblock %}
{% block prompt %}
Your task is:

{{ task }}

Answer in the provided format.

Your decisions must always be made independently without seeking user assistance. Play to your strengths as an LLM and
pursue simple strategies with no legal complications.

{% if constraints %}
## Constraints
You operate within the following constraints:
{% for constraint in constraints %}
- {{ constraint }}
{% endfor %}
{% endif %}

{% if resources %}
## Resources
You can leverage access to the following resources:
{% for resource in resources %}
- {{ resource }}
{% endfor %}
{% endif %}

{% if abilities %}
## Abilities
You have access to the following abilities you can call:
{% for ability in abilities %}
- {{ ability }}
{% endfor %}
{% endif %}

{% if best_practices %}
## Best practices
{% for best_practice in best_practices %}
- {{ best_practice }}
{% endfor %}
{% endif %}
{% endblock %}
```

Máº«u nÃ y lÃ  má»™t tuyá»‡t tÃ¡c vá» tÃ­nh mÃ´-Ä‘un, nÃ³ sá»­ dá»¥ng [Ä‘á»‹nh dáº¡ng jinga2](https://jinja.palletsprojects.com/en/3.1.x/templates/) máº¡nh máº½ . Báº±ng cÃ¡ch sá»­ dá»¥ng `extends`lá»‡nh nÃ y, nÃ³ Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn `expert.j2`máº«u cÆ¡ sá»Ÿ. CÃ¡c khá»‘i khÃ¡c nhau â€“ háº¡n cháº¿, tÃ i nguyÃªn, kháº£ nÄƒng vÃ  phÆ°Æ¡ng phÃ¡p hay nháº¥t â€“ cho phÃ©p lá»i nháº¯c Ä‘á»™ng Ä‘iá»u chá»‰nh dá»±a trÃªn ngá»¯ cáº£nh. NÃ³ giá»‘ng nhÆ° má»™t báº£n káº¿ hoáº¡ch há»™i thoáº¡i, hÆ°á»›ng dáº«n LLM hiá»ƒu nhiá»‡m vá»¥, tuÃ¢n thá»§ cÃ¡c rÃ ng buá»™c cÅ©ng nhÆ° triá»ƒn khai cÃ¡c nguá»“n lá»±c vÃ  kháº£ nÄƒng Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n.

Nháº¯cEngine trang bá»‹ cho chÃºng ta má»™t cÃ´ng cá»¥ máº¡nh máº½ Ä‘á»ƒ trÃ² chuyá»‡n liá»n máº¡ch vá»›i cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n. Báº±ng cÃ¡ch Ä‘Æ°a ra cÃ¡c lá»i nháº¯c bÃªn ngoÃ i vÃ  sá»­ dá»¥ng cÃ¡c máº«u, chÃºng tÃ´i cÃ³ thá»ƒ Ä‘áº£m báº£o ráº±ng tá»•ng Ä‘Ã i viÃªn cá»§a mÃ¬nh váº«n linh hoáº¡t, thÃ­ch á»©ng vá»›i nhá»¯ng thÃ¡ch thá»©c má»›i mÃ  khÃ´ng cáº§n sá»­a Ä‘á»•i mÃ£. Khi chÃºng ta tiáº¿n vá» phÃ­a trÆ°á»›c, hÃ£y ghi nhá»› ná»n táº£ng nÃ y - Ä‘Ã³ lÃ  ná»n táº£ng cho trÃ­ thÃ´ng minh cá»§a Ä‘áº·c vá»¥ chÃºng ta.

TÆ°Æ¡ng tÃ¡c vá»›i LLM cá»§a báº¡n
=========================

Äá»ƒ khai thÃ¡c triá»‡t Ä‘á»ƒ cÃ¡c kháº£ nÄƒng cá»§a LLMd, nÃ³ khÃ´ng chá»‰ Ä‘Æ¡n giáº£n lÃ  gá»­i má»™t lá»i nháº¯c Ä‘Æ¡n Ä‘á»™c. ÄÃ³ lÃ  vá» viá»‡c giao nhiá»‡m vá»¥ cho mÃ´ hÃ¬nh vá»›i má»™t loáº¡t cÃ¡c chá»‰ thá»‹ cÃ³ cáº¥u trÃºc. Äá»ƒ lÃ m Ä‘iá»u nÃ y, chÃºng tÃ´i cáº§n cáº¥u trÃºc cÃ¡c lá»i nháº¯c cá»§a mÃ¬nh thÃ nh Ä‘á»‹nh dáº¡ng LLM cá»§a chÃºng tÃ´i Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ xá»­ lÃ½ danh sÃ¡ch cÃ¡c thÃ´ng bÃ¡o. Sá»­ dá»¥ng `system_prompt`vÃ  `task_prompt`chÃºng tÃ´i Ä‘Ã£ chuáº©n bá»‹ trÆ°á»›c Ä‘Ã³ Ä‘á»ƒ táº¡o danh sÃ¡ch tin nháº¯n:

```python
 messages = [
            {"role": "system", "content": system_prompt},
            {"role": "user", "content": task_prompt}
        ]
```

Vá»›i lá»i nháº¯c cá»§a chÃºng tÃ´i Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh hÃ¬nh vÃ  sáºµn sÃ ng, Ä‘Ã£ Ä‘áº¿n lÃºc thá»±c hiá»‡n LLM cá»§a chÃºng tÃ´i! Máº·c dÃ¹ giai Ä‘oáº¡n nÃ y Ä‘Ã²i há»i má»™t sá»‘ mÃ£ cÆ¡ báº£n, nhÆ°ng Ä‘iá»ƒm ná»•i báº­t lÃ  `chat_completion_request`. Chá»©c nÄƒng quan trá»ng nÃ y thá»±c hiá»‡n nhiá»‡m vá»¥ LLM vÃ  truy xuáº¥t Ä‘áº§u ra cá»§a nÃ³. MÃ£ liá»n ká» chá»‰ Ä‘Ã³ng gÃ³i yÃªu cáº§u cá»§a chÃºng tÃ´i vÃ  giáº£i mÃ£ pháº£n há»“i cá»§a mÃ´ hÃ¬nh:

```python
try:
      # Define the parameters for the chat completion request
      chat_completion_kwargs = {
          "messages": messages,
          "model": "gpt-3.5-turbo",
      }
      # Make the chat completion request and parse the response
      chat_response = await chat_completion_request(**chat_completion_kwargs)
      answer = json.loads(chat_response["choices"][0]["message"]["content"])

      # Log the answer for debugging purposes
      LOG.info(pprint.pformat(answer))

  except json.JSONDecodeError as e:
      # Handle JSON decoding errors
      LOG.error(f"Unable to decode chat response: {chat_response}")
  except Exception as e:
      # Handle other exceptions
      LOG.error(f"Unable to generate chat response: {e}")Step 7: Executing the Derived Ability
```

Viá»‡c Ä‘iá»u hÆ°á»›ng qua cÃ¡c Ä‘iá»ƒm Ä‘áº·c biá»‡t cá»§a Ä‘áº§u ra LLM Ä‘á»ƒ trÃ­ch xuáº¥t má»™t thÃ´ng bÃ¡o rÃµ rÃ ng cÃ³ thá»ƒ xá»­ lÃ½ Ä‘Æ°á»£c cÃ³ thá»ƒ lÃ  má»™t ná»— lá»±c mang nhiá»u sáº¯c thÃ¡i. CÃ¡ch tiáº¿p cáº­n hiá»‡n táº¡i cá»§a chÃºng tÃ´i ráº¥t Ä‘Æ¡n giáº£n vÃ  thÆ°á»ng sáº½ hoáº¡t Ä‘á»™ng vá»›i GPT-3.5 vÃ  GPT-4. Tuy nhiÃªn, cÃ¡c hÆ°á»›ng dáº«n trong tÆ°Æ¡ng lai sáº½ má»Ÿ rá»™ng táº§m nhÃ¬n cá»§a báº¡n báº±ng nhá»¯ng cÃ¡ch phá»©c táº¡p hÆ¡n Ä‘á»ƒ xá»­ lÃ½ káº¿t quáº£ Ä‘áº§u ra LLM. Má»¥c Ä‘Ã­ch? Äá»ƒ Ä‘áº£m báº£o ráº±ng báº¡n khÃ´ng chá»‰ bá»‹ giá»›i háº¡n á»Ÿ JSON, Ä‘áº·c biá»‡t lÃ  khi má»™t sá»‘ LLM vÆ°á»£t trá»™i vá»›i cÃ¡c máº«u pháº£n há»“i thay tháº¿. Giá»¯ nguyÃªn!

Sá»­ dá»¥ng vÃ  táº¡o ra kháº£ nÄƒng
==========================

Äá»‘i vá»›i nhá»¯ng ngÆ°á»i Ä‘áº·c biá»‡t chÃº Ã½ Ä‘áº¿n tá»«ng chi tiáº¿t, báº¡n cÃ³ thá»ƒ Ä‘Ã£ chá»n tÃ i liá»‡u tham kháº£o vá» kháº£ nÄƒng cá»§a nhÃ¢n viÃªn khi chÃºng ta tháº£o luáº­n vá» viá»‡c táº¡o lá»i nháº¯c `task-step`. Kháº£ nÄƒng lÃ  cÃ¡c bÃ¡nh rÄƒng vÃ  Ä‘Ã²n báº©y cho phÃ©p tÃ¡c nhÃ¢n tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c nhiá»‡m vá»¥ trÆ°á»›c máº¯t. HÃ£y cÃ¹ng khÃ¡m phÃ¡ cÆ¡ cháº¿ Ä‘áº±ng sau nhá»¯ng kháº£ nÄƒng nÃ y vÃ  cÃ¡ch báº¡n cÃ³ thá»ƒ khai thÃ¡c vÃ  tháº­m chÃ­ má»Ÿ rá»™ng chÃºng.

Trong SDK, cÃ³ má»™t thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh cÃ³ tiÃªu Ä‘á» `abilities`. Theo vÄƒn báº£n nÃ y, nÃ³ chá»©a `registry.py`, `finish.py`vÃ  má»™t thÆ° má»¥c con cÃ³ tÃªn `file_system`. VÃ  váº«n cÃ²n khÃ´ng gian Ä‘á»ƒ má»Ÿ rá»™ng â€“ cÃ³ láº½ kháº£ nÄƒng Ä‘á»•i má»›i cá»§a báº¡n sáº½ sá»›m xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y!

CÃ¡c táº­p tin `registry.py`Ä‘Ã³ng má»™t vai trÃ² quan trá»ng. NÃ³ cung cáº¥p káº¿ hoáº¡ch chi tiáº¿t ná»n táº£ng cho cÃ¡c kháº£ nÄƒng, tÃ­ch há»£p `@ability`trang trÃ­ thiáº¿t yáº¿u vÃ  `AbilityRegister`lá»›p há»c. Lá»›p nÃ y khÃ´ng chá»‰ lÃ  má»™t danh sÃ¡ch thá»¥ Ä‘á»™ng; Ä‘Ã³ lÃ  má»™t danh má»¥c hoáº¡t Ä‘á»™ng giÃºp theo dÃµi cÃ¡c kháº£ nÄƒng sáºµn cÃ³ vÃ  mÃ´ táº£ chá»©c nÄƒng cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n chÃºng. HÆ¡n ná»¯a, má»™t thanh ghi kháº£ nÄƒng máº·c Ä‘á»‹nh Ä‘Æ°á»£c tÃ­ch há»£p liá»n máº¡ch vÃ o lá»›p TÃ¡c nhÃ¢n cÆ¡ sá»Ÿ, giÃºp nÃ³ cÃ³ thá»ƒ truy cáº­p dá»… dÃ ng thÃ´ng qua tay `self.abilities`cáº§m. Äiá»u nÃ y Ä‘Æ°á»£c thÃªm vÃ o `Agent`lá»›p theo chá»©c nÄƒng cá»§a nÃ³ `init`nhÆ° sau:

```python
self.abilities = Kháº£ nÄƒngÄÄƒng kÃ½(tá»±)
```

Trong khi `AbilityRegister`Ä‘Æ°á»£c tÃ­ch há»£p nhiá»u phÆ°Æ¡ng phÃ¡p tiá»‡n Ã­ch, cÃ³ hai phÆ°Æ¡ng phÃ¡p ná»•i báº­t. PhÆ°Æ¡ng phÃ¡p nÃ y `list_abilities_for_prompt`quáº£n lÃ½ vÃ  cáº¥u trÃºc cÃ¡c kháº£ nÄƒng Ä‘á»ƒ tÃ­ch há»£p nhanh chÃ³ng. NgÆ°á»£c láº¡i, `run_ability`váº­n hÃ nh kháº£ nÄƒng Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh, chuyá»ƒn nÃ³ tá»« mÃ£ sang hÃ nh Ä‘á»™ng.

DNA cá»§a kháº£ nÄƒng bao gá»“m má»™t chá»©c nÄƒng Ä‘Æ°á»£c tÃ´ Ä‘iá»ƒm báº±ng `@ability`bá»™ trang trÃ­ vÃ  báº¯t buá»™c pháº£i ghÃ©p ná»‘i vá»›i cÃ¡c tham sá»‘, Ä‘áº·c biá»‡t lÃ  `agent`vÃ  `task_id`.

```python
@ability(
    name="write_file",
    description="Write data to a file",
    parameters=[
        {
            "name": "file_path",
            "description": "Path to the file",
            "type": "string",
            "required": True,
        },
        {
            "name": "data",
            "description": "Data to write to the file",
            "type": "bytes",
            "required": True,
        },
    ],
    output_type="None",
)
async def write_file(agent, task_id: str, file_path: str, data: bytes) -> None:
    pass
```

á» Ä‘Ã¢y, `@ability`trÃ¬nh trang trÃ­ khÃ´ng chá»‰ lÃ  má»™t váº­t trang trÃ­ mÃ  cÃ²n lÃ  má»™t cÃ´ng cá»¥ xÃ¡c Ä‘á»‹nh chá»©c nÄƒng. NÃ³ bao gá»“m siÃªu dá»¯ liá»‡u cá»§a kháº£ nÄƒng: nháº­n dáº¡ng ( `name`), chá»©c nÄƒng ( `description`) vÃ  cÃ¡c tham sá»‘ váº­n hÃ nh cá»§a kháº£ nÄƒng. Má»—i tham sá»‘ Ä‘Æ°á»£c mÃ´ táº£ má»™t cÃ¡ch chÃ­nh xÃ¡c, gÃ³i gá»n danh tÃ­nh, kiá»ƒu dá»¯ liá»‡u vÃ  nhu cáº§u váº­n hÃ nh cá»§a nÃ³.

VÃ­ dá»¥ vá» kháº£ nÄƒng tÃ¹y chá»‰nh: TrÃ¬nh tÃ¬m náº¡p trang web
----------------------------------------------------

```python
import requests

@ability(
  name="fetch_webpage",
  description="Retrieve the content of a webpage",
  parameters=[
      {
          "name": "url",
          "description": "Webpage URL",
          "type": "string",
          "required": True,
      }
  ],
  output_type="string",
)
async def fetch_webpage(agent, task_id: str, url: str) -> str:
  response = requests.get(url)
  return response.text
```

Kháº£ nÄƒng nÃ y, â€œ _fetch\_webpage_ â€, cháº¥p nháº­n URL lÃ m Ä‘áº§u vÃ o vÃ  tráº£ vá» ná»™i dung HTML cá»§a trang web dÆ°á»›i dáº¡ng chuá»—i. NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, cÃ¡c kháº£ nÄƒng tÃ¹y chá»‰nh cho phÃ©p báº¡n má»Ÿ rá»™ng liá»n máº¡ch cÃ¡c chá»©c nÄƒng cá»‘t lÃµi cá»§a tá»•ng Ä‘Ã i viÃªn, tÃ­ch há»£p cÃ¡c cÃ´ng cá»¥ vÃ  thÆ° viá»‡n bÃªn ngoÃ i Ä‘á»ƒ tÄƒng cÆ°á»ng kháº£ nÄƒng cá»§a tá»•ng Ä‘Ã i viÃªn.

Viá»‡c táº¡o ra má»™t kháº£ nÄƒng tÃ¹y chá»‰nh Ä‘Ã²i há»i sá»± tá»•ng há»£p giá»¯a hiá»ƒu biáº¿t vá» kiáº¿n â€‹â€‹trÃºc vÃ  nÄƒng lá»±c ká»¹ thuáº­t. ÄÃ³ lÃ  vá» viá»‡c trÃ¬nh bÃ y rÃµ rÃ ng má»™t chá»©c nÄƒng, tranh thá»§ cÃ¡c tham sá»‘ hoáº¡t Ä‘á»™ng cá»§a nÃ³ vÃ  káº¿t há»£p chÃºng má»™t cÃ¡ch phá»©c táº¡p vá»›i `@ability`cÃ¡c thÃ´ng sá»‘ ká»¹ thuáº­t cá»§a ngÆ°á»i trang trÃ­. Vá»›i cÃ¡c kháº£ nÄƒng tÃ¹y chá»‰nh nhÆ° "fetch\_webpage", tiá»m nÄƒng cá»§a Ä‘áº·c vá»¥ chá»‰ bá»‹ giá»›i háº¡n bá»Ÿi trÃ­ tÆ°á»Ÿng tÆ°á»£ng cá»§a báº¡n, sáºµn sÃ ng giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ phá»©c táº¡p vá»›i nÄƒng lá»±c tinh táº¿.

Cháº¡y má»™t kháº£ nÄƒng
=================

BÃ¢y giá» báº¡n Ä‘Ã£ hiá»ƒu rÃµ báº£n cháº¥t cá»§a cÃ¡c kháº£ nÄƒng vÃ  cÃ³ Ä‘á»§ nÄƒng lá»±c Ä‘á»ƒ táº¡o ra chÃºng, Ä‘Ã£ Ä‘áº¿n lÃºc Ã¡p dá»¥ng nhá»¯ng ká»¹ nÄƒng nÃ y vÃ o thá»±c táº¿. Pháº§n cuá»‘i cÃ¹ng cá»§a cÃ¢u Ä‘á»‘ cá»§a chÃºng tÃ´i lÃ  `execute_step`chá»©c nÄƒng. Má»¥c tiÃªu cá»§a chÃºng tÃ´i? Äá»ƒ giáº£i thÃ­ch pháº£n á»©ng cá»§a tÃ¡c nhÃ¢n, hÃ£y tÃ¡ch kháº£ nÄƒng mong muá»‘n vÃ  biáº¿n nÃ³ thÃ nh hiá»‡n thá»±c.

Äáº§u tiÃªn vÃ  quan trá»ng nháº¥t, chÃºng tÃ´i láº¥y Ä‘Æ°á»£c thÃ´ng tin chi tiáº¿t vá» kháº£ nÄƒng tá»« pháº£n há»“i cá»§a tÃ¡c nhÃ¢n. Äiá»u nÃ y cho chÃºng ta má»™t bá»©c tranh rÃµ rÃ ng vá» nhiá»‡m vá»¥ trÆ°á»›c máº¯t:

```python
# Extract the ability from the answer
ability = answer["ability"]
```

Vá»›i thÃ´ng tin chi tiáº¿t vá» kháº£ nÄƒng trong táº§m tay, bÆ°á»›c tiáº¿p theo lÃ  huy Ä‘á»™ng nÃ³. Äiá»u nÃ y liÃªn quan Ä‘áº¿n viá»‡c gá»i `run_ability`hÃ m Ä‘Ã£ tháº£o luáº­n trÆ°á»›c Ä‘Ã³ cá»§a chÃºng ta

```python
# Run the ability and get the output
# We don't actually use the output in this example
output = await self.abilities.run_ability(
    task_id, ability["name"], **ability["args"]
)
```

á» Ä‘Ã¢y, chÃºng tÃ´i Ä‘ang gá»i kháº£ nÄƒng Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh. Viá»‡c `task_id`Ä‘áº£m báº£o tÃ­nh liÃªn tá»¥c, `ability['name']`xÃ¡c Ä‘á»‹nh chÃ­nh xÃ¡c hÃ m vÃ  cÃ¡c Ä‘á»‘i sá»‘ ( `ability["args"]`) cung cáº¥p ngá»¯ cáº£nh cáº§n thiáº¿t.

Khi hoÃ n táº¥t, chÃºng ta sáº½ táº¡o Ä‘áº§u ra cá»§a bÆ°á»›c nÃ y Ä‘á»ƒ pháº£n Ã¡nh suy nghÄ© cá»§a nhÃ¢n viÃªn há»— trá»£. Äiá»u nÃ y khÃ´ng chá»‰ mang láº¡i sá»± minh báº¡ch mÃ  cÃ²n cung cáº¥p cÃ¡i nhÃ¬n thoÃ¡ng qua vá» quÃ¡ trÃ¬nh ra quyáº¿t Ä‘á»‹nh cá»§a Ä‘áº¡i lÃ½:

```python
# Set the step output to the "speak" part of the answer
step.output = answer["thoughts"]["speak"]

# Return the completed step
return step
```

VÃ  báº¡n cÃ³ nÃ³ rá»“i Ä‘áº¥y! TÃ¡c nhÃ¢n thÃ´ng minh Ä‘áº§u tiÃªn cá»§a báº¡n, Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i Ä‘á»™ chÃ­nh xÃ¡c vÃ  má»¥c Ä‘Ã­ch, sáºµn sÃ ng Ä‘Æ°Æ¡ng Ä‘áº§u vá»›i thá»­ thÃ¡ch. SÃ¢n kháº¥u Ä‘Ã£ Ä‘Æ°á»£c dá»±ng sáºµn. Äáº¿n giá» diá»…n rá»“i!

ÄÃ¢y lÃ  chá»©c nÄƒng cá»§a báº¡n sáº½ trÃ´ng nhÆ° tháº¿ nÃ o:

```python
async def execute_step(self, task_id: str, step_request: StepRequestBody) -> Step:
    # Firstly we get the task this step is for so we can access the task input
    task = await self.db.get_task(task_id)

    # Create a new step in the database
    step = await self.db.create_step(
        task_id=task_id, input=step_request, is_last=True
    )

    # Log the message
    LOG.info(f"\tâœ… Final Step completed: {step.step_id} input: {step.input[:19]}")

    # Initialize the PromptEngine with the "gpt-3.5-turbo" model
    prompt_engine = PromptEngine("gpt-3.5-turbo")

    # Load the system and task prompts
    system_prompt = prompt_engine.load_prompt("system-format")

    # Initialize the messages list with the system prompt
    messages = [
        {"role": "system", "content": system_prompt},
    ]
    # Define the task parameters
    task_kwargs = {
        "task": task.input,
        "abilities": self.abilities.list_abilities_for_prompt(),
    }

    # Load the task prompt with the defined task parameters
    task_prompt = prompt_engine.load_prompt("task-step", **task_kwargs)

    # Append the task prompt to the messages list
    messages.append({"role": "user", "content": task_prompt})

    try:
        # Define the parameters for the chat completion request
        chat_completion_kwargs = {
            "messages": messages,
            "model": "gpt-3.5-turbo",
        }
        # Make the chat completion request and parse the response
        chat_response = await chat_completion_request(**chat_completion_kwargs)
        answer = json.loads(chat_response["choices"][0]["message"]["content"])

        # Log the answer for debugging purposes
        LOG.info(pprint.pformat(answer))

    except json.JSONDecodeError as e:
        # Handle JSON decoding errors
        LOG.error(f"Unable to decode chat response: {chat_response}")
    except Exception as e:
        # Handle other exceptions
        LOG.error(f"Unable to generate chat response: {e}")

    # Extract the ability from the answer
    ability = answer["ability"]

    # Run the ability and get the output
    # We don't actually use the output in this example
    output = await self.abilities.run_ability(
        task_id, ability["name"], **ability["args"]
    )

    # Set the step output to the "speak" part of the answer
    step.output = answer["thoughts"]["speak"]

    # Return the completed step
    return step
```

TÆ°Æ¡ng tÃ¡c vá»›i Ä‘áº¡i lÃ½ cá»§a báº¡n
============================

> âš ï¸ LÆ°u Ã½: Giao diá»‡n ngÆ°á»i dÃ¹ng vÃ  Ä‘iá»ƒm chuáº©n váº«n Ä‘ang trong quÃ¡ trÃ¬nh thá»­ nghiá»‡m nÃªn cÃ³ thá»ƒ cÃ³ má»™t chÃºt trá»¥c tráº·c.

Vá»›i khá»‘i lÆ°á»£ng cÃ´ng viá»‡c náº·ng nhá»c trong viá»‡c cháº¿ táº¡o TÃ¡c nhÃ¢n thÃ´ng minh Ä‘ang á»Ÿ phÃ­a sau, Ä‘Ã£ Ä‘áº¿n lÃºc chá»©ng kiáº¿n â€‹â€‹nÃ³ hoáº¡t Ä‘á»™ng. Báº¯t Ä‘áº§u má»i thá»© báº±ng cÃ¡ch kÃ­ch hoáº¡t tÃ¡c nhÃ¢n báº±ng lá»‡nh nÃ y:

```python
./run agent start SmartAgent.
```

Khi sÃ¢n chÆ¡i ká»¹ thuáº­t sá»‘ cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p xong, thiáº¿t bá»‹ Ä‘áº§u cuá»‘i cá»§a báº¡n sáº½ sÃ¡ng lÃªn vá»›i:

```python



       d8888          888             .d8888b.  8888888b. 88888888888
      d88888          888            d88P  Y88b 888   Y88b    888
     d88P888          888            888    888 888    888    888
    d88P 888 888  888 888888 .d88b.  888        888   d88P    888
   d88P  888 888  888 888   d88""88b 888  88888 8888888P"     888
  d88P   888 888  888 888   888  888 888    888 888           888
 d8888888888 Y88b 888 Y88b. Y88..88P Y88b  d88P 888           888
d88P     888  "Y88888  "Y888 "Y88P"   "Y8888P88 888           888



                8888888888
                888
                888
                8888888  .d88b.  888d888 .d88b.   .d88b.
                888     d88""88b 888P"  d88P"88b d8P  Y8b
                888     888  888 888    888  888 88888888
                888     Y88..88P 888    Y88b 888 Y8b.
                888      "Y88P"  888     "Y88888  "Y8888
                                             888
                                        Y8b d88P
                                         "Y88P"                v0.1.0


[2023-09-27 15:39:07,832] [forge.sdk.agent] [INFO]      ğŸ“  Agent server starting on http://localhost:8000
```

Má»™t cÃº nháº¥p chuá»™t Ä‘Æ¡n giáº£n vÃ o liÃªn káº¿t Ä‘Ã³ sáº½ hiá»ƒn thá»‹ Giao diá»‡n ngÆ°á»i dÃ¹ng AutoGPT Agent. NhÆ°ng chá» Ä‘Ã£, trÆ°á»›c tiÃªn cÃ³ má»™t Ä‘iá»ƒm dá»«ng nhá»! ÄÄƒng nháº­p báº±ng thÃ´ng tin Ä‘Äƒng nháº­p Gmail hoáº·c Github cá»§a báº¡n. BÃ¢y giá», báº¡n cÃ³ tháº¥y biá»ƒu tÆ°á»£ng chiáº¿c cÃºp á»Ÿ bÃªn trÃ¡i khÃ´ng? Nháº¥p vÃ o nÃ³ Ä‘á»ƒ bÆ°á»›c vÃ o Ä‘áº¥u trÆ°á»ng Ä‘iá»ƒm chuáº©n. Chá»n tham gia thá»­ nghiá»‡m 'WriteFile' vÃ  nháº¥n 'Báº¯t â€‹â€‹Ä‘áº§u bá»™ thá»­ nghiá»‡m' Ä‘á»ƒ báº¯t Ä‘áº§u chuyá»ƒn Ä‘á»™ng.

![](https://miro.medium.com/v2/resize:fit:1000/1*kGsn4AlU5nyXNIZpOF3eSQ.png)

Trang Ä‘iá»ƒm chuáº©n cá»§a giao diá»‡n ngÆ°á»i dÃ¹ng AutoGPT

Máº¯t cá»§a báº¡n sáº½ dÃ¡n cháº·t vÃ o báº£ng bÃªn pháº£i khi nÃ³ Ä‘Æ°a ra káº¿t quáº£ theo thá»i gian thá»±c. VÃ  náº¿u báº¡n lÃ©n nhÃ¬n vÃ o báº£ng Ä‘iá»u khiá»ƒn cá»§a mÃ¬nh, nhá»¯ng thÃ´ng bÃ¡o Äƒn má»«ng nÃ y gá»£i Ã½ ráº±ng nhiá»‡m vá»¥ cá»§a báº¡n Ä‘Ã£ Ä‘áº¡t Ä‘áº¿n pháº§n cuá»‘i cÃ¹ng:

```
ğŸ“  ğŸ“¦ Task created: 70518b75-0104-49b0-923e-f607719d042b input: Write the word 'Washington' to a .txt fi...
ğŸ“      âœ… Final Step completed: a736c45f-65a5-4c44-a697-f1d6dcd94d5c input: y
```

á»i! Gáº·p sá»± cá»‘ hoáº·c nhÃ¬n tháº¥y má»™t sá»‘ thÃ´ng bÃ¡o lá»—i khÃ³ hiá»ƒu? Nháº¡t toáº¹t. Nháº¥n thá»­ láº¡i. HÃ£y nhá»› ráº±ng, máº·c dÃ¹ LLM Ä‘Ã³ng vai trÃ² lÃ  trÃ­ tuá»‡ cá»§a Ä‘áº·c vá»¥, nhÆ°ng chÃºng hÆ¡i giá»‘ng phÃ¹ thá»§y â€” vÃ´ cÃ¹ng máº¡nh máº½ nhÆ°ng Ä‘Ã´i khi cáº§n má»™t cÃº huÃ½ch nháº¹ Ä‘á»ƒ Ä‘i Ä‘Ãºng hÆ°á»›ng!

TÃ³m láº¡i
========

Trong hÆ°á»›ng dáº«n tiáº¿p theo, chÃºng tÃ´i sáº½ cáº£i tiáº¿n thÃªm quy trÃ¬nh nÃ y, nÃ¢ng cao kháº£ nÄƒng cá»§a tÃ¡c nhÃ¢n thÃ´ng qua viá»‡c bá»• sung bá»™ nhá»›!

Cho Ä‘áº¿n lÃºc Ä‘Ã³, hÃ£y tiáº¿p tá»¥c thá»­ nghiá»‡m vÃ  vÆ°á»£t qua cÃ¡c ranh giá»›i cá»§a AI. ChÃºc má»«ng mÃ£ hÃ³a! ğŸš€

<div style="text-align: right">Theo <a href="https://aiedge.medium.com/autogpt-forge-crafting-intelligent-agent-logic-bc5197b14cb4">Craig Swift</a></div>